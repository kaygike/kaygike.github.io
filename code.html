<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" class="no-js">
<head>

  
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Words and code." />

  
  <title>VLNT: code</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        background-color: #ffffff;
        color: #a0a0a0;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
    div.sourceCode
      { color: #1f1c1b; background-color: #ffffff; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #1f1c1b; } /* Normal */
    code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
    code span.an { color: #ca60ca; } /* Annotation */
    code span.at { color: #0057ae; } /* Attribute */
    code span.bn { color: #b08000; } /* BaseN */
    code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
    code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #924c9d; } /* Char */
    code span.cn { color: #aa5500; } /* Constant */
    code span.co { color: #898887; } /* Comment */
    code span.cv { color: #0095ff; } /* CommentVar */
    code span.do { color: #607880; } /* Documentation */
    code span.dt { color: #0057ae; } /* DataType */
    code span.dv { color: #b08000; } /* DecVal */
    code span.er { color: #bf0303; text-decoration: underline; } /* Error */
    code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
    code span.fl { color: #b08000; } /* Float */
    code span.fu { color: #644a9b; } /* Function */
    code span.im { color: #ff5500; } /* Import */
    code span.in { color: #b08000; } /* Information */
    code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
    code span.op { color: #1f1c1b; } /* Operator */
    code span.ot { color: #006e28; } /* Other */
    code span.pp { color: #006e28; } /* Preprocessor */
    code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
    code span.sc { color: #3daee9; } /* SpecialChar */
    code span.ss { color: #ff5500; } /* SpecialString */
    code span.st { color: #bf0303; } /* String */
    code span.va { color: #0057ae; } /* Variable */
    code span.vs { color: #bf0303; } /* VerbatimString */
    code span.wa { color: #bf0303; } /* Warning */
  </style>

      <link rel="stylesheet" href="include/style.css" />
  
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>☩</text></svg>">

  
  </head>

<body class="code">
  <header>
    <nav class="menu" id="menu">
      
      <a id="home" href="index.html#home"><img src="include/home.png"/></a>
      <a href="#"><img src="include/up.png"/></a>
      <a href="#bottom"><img src="include/down.png"/></a>
      <span class="text">
        <a id="books" href="books.html#books">Books</a>
        <a id="code" href="code.html#code">Code</a>
        <a id="other" href="other.html#other">Other</a>
        <a id="quotes"href="quotes.html#quotes">Quotes</a>
        <a id="text" href="text.html#text">Text</a>
      </span>
    </nav>
    <nav class="menu" id="mobile_menu">
      <span class="home">
        <a id="home" href="index.html#home">☩</a>
      </span>
      <span class="arrows">
        <a href="#">⇑</a>
        <a href="#bottom">⇓</a>
      </span>
      <input type="checkbox" id="burger">
      <label for="burger">☰</label>
      <span class="text">
        <a id="books" href="books.html#books">Books</a>
        <a id="code" href="code.html#code">Code</a>
        <a id="other" href="other.html#other">Other</a>
        <a id="quotes"href="quotes.html#quotes">Quotes</a>
        <a id="text" href="text.html#text">Text</a>
      </span>
    </nav>
  </header>
<content>
      <nav id="TOC" role="doc-toc">
      <ul>
      <li><a href="#code" id="toc-code">Code</a>
      <ul>
      <li><a href="#z" id="toc-z">7z</a></li>
      <li><a href="#bdfr" id="toc-bdfr">bdfr</a></li>
      <li><a href="#ffmpeg" id="toc-ffmpeg">ffmpeg</a></li>
      <li><a href="#git" id="toc-git">git</a></li>
      <li><a href="#md5sum" id="toc-md5sum">md5sum</a></li>
      <li><a href="#mises.py" id="toc-mises.py">mises.py</a></li>
      <li><a href="#pacman" id="toc-pacman">pacman</a></li>
      <li><a href="#podcast-dl" id="toc-podcast-dl">podcast-dl</a></li>
      <li><a href="#rsync" id="toc-rsync">rsync</a></li>
      <li><a href="#shnsplit" id="toc-shnsplit">shnsplit</a></li>
      <li><a href="#wget" id="toc-wget">wget</a></li>
      <li><a href="#yt-dlp" id="toc-yt-dlp">yt-dlp</a></li>
      </ul></li>
      </ul>
    </nav>
    <h1 id="code">Code</h1>
    <h2 id="z">7z</h2>
    <p>Create archive w/ no compression and encrypted filenames.</p>
    <div class="sourceCode" id="cb1"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> 7z a <span class="at">-p</span> <span class="at">-bt</span> <span class="at">-mx</span><span class="op">=</span>0 <span class="at">-mhe</span><span class="op">=</span>on archive.7z file1 file2 file3<span class="op">&lt;</span>/code<span class="op">&gt;</span></span></code></pre></div>
    <h2 id="bdfr">bdfr</h2>
    <p>Bulk archive a subreddit.</p>
    <blockquote>
    <p>Two separate operations shown below.</p>
    </blockquote>
    <div class="sourceCode" id="cb2"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> bdfr clone ~/save_dir/ <span class="at">--subreddit</span> unixporn <span class="at">--log</span> ~/save_dir/log.log <span class="at">--sort</span> top <span class="at">--time</span> all <span class="at">--make-hard-links</span> <span class="at">--file-scheme</span> <span class="st">&quot;{DATE}_{POSTID}_{UPVOTES}&quot;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> bdfr clone ~/save_dir/ <span class="at">--subreddit</span> unixporn <span class="at">--log</span> ~/save_dir/log.log <span class="at">--make-hard-links</span> <span class="at">--folder-scheme</span> <span class="st">&quot;{DATE}_{TITLE}_{POSTID}_{UPVOTES}&quot;</span> <span class="at">--file-scheme</span> <span class="st">&quot;{UPVOTES}_{DATE}_{REDDITOR}_{POSTID}</span></span></code></pre></div>
    <h2 id="ffmpeg">ffmpeg</h2>
    <p>Convert APE to FLAC.</p>
    <div class="sourceCode" id="cb3"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> fmpeg <span class="at">-i</span> INPUT.ape OUTPUT.flac</span></code></pre></div>
    <p>Convert all m4a to FLAC and preserve filenames.</p>
    <div class="sourceCode" id="cb4"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> for f in <span class="pp">*</span>.m4a<span class="kw">;</span> <span class="cf">do</span> <span class="ex">ffmpeg</span> <span class="at">-i</span> <span class="st">&quot;</span><span class="va">$f</span><span class="st">&quot;</span> <span class="st">&quot;</span><span class="va">${f</span><span class="op">%</span>.m4a<span class="va">}</span><span class="st">&quot;</span>.flac<span class="kw">;</span> <span class="cf">done</span></span></code></pre></div>
    <p>Merge multiple files into one without re-encoding.</p>
    <blockquote>
    <p>Specific format for CONCAT.txt file</p>
    </blockquote>
    <div class="sourceCode" id="cb5"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cat CONCAT.txt</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">file</span> <span class="st">&#39;/path/to/file1&#39;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">file</span> <span class="st">&#39;/path/to/file2&#39;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ffmpeg <span class="at">-f</span> concat <span class="at">-safe</span> 0 <span class="at">-i</span> CONCAT.txt <span class="at">-c</span> copy output.mp4</span></code></pre></div>
    <h2 id="git">git</h2>
    <p>Managing multiple usernames.</p>
    <blockquote>
    <ol type="1">
    <li>Setup <code>~/.ssh/config</code> using
    e.g. <code>Host github.com-user1</code> and
    <code>Host github.com-user2</code>. (<a
    href="https://www.howtogeek.com/devops/how-to-fix-git-using-the-wrong-ssh-key-account/">source</a>)</li>
    </ol>
    </blockquote>
    <blockquote>
    <ol start="2" type="1">
    <li>Setup remote origins to use the above dummy hosts,
    e.g. <code>git remote set-url origin git@github.com-user1:user1/reponame.git</code>.
    (<a
    href="https://stackoverflow.com/questions/2432764/how-do-i-change-the-uri-url-for-a-remote-git-repository">source</a>)</li>
    </ol>
    </blockquote>
    <h2 id="md5sum">md5sum</h2>
    <p>List duplicate files in directory. (<a
    href="https://unix.stackexchange.com/questions/277697/whats-the-quickest-way-to-find-duplicated-files/277707#277707">source</a>)</p>
    <div class="sourceCode" id="cb6"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> find . ! <span class="at">-empty</span> <span class="at">-type</span> f <span class="at">-exec</span> md5sum {} + <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span> <span class="at">-w32</span> <span class="at">-dD</span></span></code></pre></div>
    <p>Create file with md5 checksums for all FLAC in directories
    (one-deep).</p>
    <div class="sourceCode" id="cb7"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> for dir in <span class="pp">*</span><span class="kw">;</span> <span class="cf">do</span> <span class="cf">if</span> <span class="bu">[</span> <span class="ot">-d</span> <span class="va">$dir</span> <span class="ot">-a</span> <span class="ot">!</span> <span class="ot">-h</span> <span class="va">$dir</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span> <span class="bu">cd</span> <span class="at">--</span> <span class="st">&quot;</span><span class="va">$dir</span><span class="st">&quot;</span><span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;Generating md5sum for &#39;</span><span class="va">$dir</span><span class="st">&#39;&quot;</span><span class="kw">;</span> <span class="fu">md5sum</span> <span class="pp">*</span>.flac <span class="op">&gt;</span> checksum.md5<span class="kw">;</span> <span class="bu">cd</span> .. <span class="kw">;</span> <span class="cf">fi</span><span class="kw">;</span> <span class="cf">done</span><span class="kw">;</span></span></code></pre></div>
    <h2 id="mises.py">mises.py</h2>
    <p>Scrape pdfs from Mises Institute’s digital library.</p>
    <blockquote>
    <p>Requires beautifulsoup.</p>
    </blockquote>
    <blockquote>
    <p>Update range of forloop as needed.</p>
    </blockquote>
    <blockquote>
    <p>For epub, use url <code>book_type=537</code> and change
    <code>pdf</code> to <code>epub</code> in script.</p>
    </blockquote>
    <div class="sourceCode" id="cb8"><pre
    class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os.path</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">&quot;https://mises.org/library/books?book_type=539&quot;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> surname_forename(text):</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&quot;Jr.&quot;</span> <span class="kw">in</span> text:</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        surname <span class="op">=</span> text.split()[<span class="op">-</span><span class="dv">2</span>]</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>        forename <span class="op">=</span> <span class="st">&quot;&quot;</span>.join(text.split()[<span class="dv">0</span>:<span class="op">-</span><span class="dv">2</span>]) <span class="op">+</span> text.split()[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        surname <span class="op">=</span> text.split()[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>        forename <span class="op">=</span> text.rsplit(<span class="st">&quot; &quot;</span>, <span class="dv">1</span>)[<span class="dv">0</span>]</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> surname <span class="op">+</span> forename</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> restrict_filename(text):</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">&quot;&quot;</span>.join(t <span class="cf">for</span> t <span class="kw">in</span> text <span class="cf">if</span> t.isalnum())</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> scrape_page(soup):</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    entries <span class="op">=</span> soup.find_all(<span class="st">&quot;div&quot;</span>, {<span class="st">&quot;class&quot;</span>: re.<span class="bu">compile</span>(<span class="st">&quot;^result-*&quot;</span>)})</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> entry <span class="kw">in</span> entries:</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>        scrape_entry(entry)</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> scrape_entry(entry):</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    title <span class="op">=</span> entry.find(<span class="st">&quot;h2&quot;</span>, {<span class="st">&quot;class&quot;</span>: <span class="st">&quot;teaser-title&quot;</span>}).get_text()</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    author <span class="op">=</span> entry.find(<span class="st">&quot;span&quot;</span>, {<span class="st">&quot;class&quot;</span>: <span class="st">&quot;author&quot;</span>}).get_text()</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    date <span class="op">=</span> entry.find(<span class="st">&quot;span&quot;</span>, {<span class="st">&quot;class&quot;</span>: <span class="st">&quot;date&quot;</span>}).get_text()</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    pdf <span class="op">=</span> entry.find(<span class="st">&quot;a&quot;</span>, {<span class="st">&quot;type&quot;</span>: re.<span class="bu">compile</span>(<span class="vs">r&quot;pdf&quot;</span>)})[<span class="st">&quot;href&quot;</span>]</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>    title <span class="op">=</span> restrict_filename(title)</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>    author <span class="op">=</span> surname_forename(author)</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>    author <span class="op">=</span> restrict_filename(author)</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>    date <span class="op">=</span> datetime.datetime.strptime(date, <span class="st">&quot;%m/</span><span class="sc">%d</span><span class="st">/%Y&quot;</span>).strftime(<span class="st">&quot;%Y-%m-</span><span class="sc">%d</span><span class="st">&quot;</span>)</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>    download_entry(title, author, date, pdf)</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> download_entry(title, author, date, pdf):</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>    filename <span class="op">=</span>  author <span class="op">+</span> <span class="st">&quot;_&quot;</span> <span class="op">+</span> title <span class="op">+</span> <span class="st">&quot;_&quot;</span> <span class="op">+</span> date <span class="op">+</span> <span class="st">&quot;.pdf&quot;</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> os.path.isfile(filename):</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Already downloaded &quot;</span> <span class="op">+</span> filename)</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Downloading &quot;</span> <span class="op">+</span> filename)</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>        dl <span class="op">=</span> requests.get(pdf)</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(filename, <span class="st">&#39;wb&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>            f.write(dl.content)</span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> p <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">57</span>):</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>    <span class="co"># adjust max page range above as necessary</span></span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>    req <span class="op">=</span> requests.get(url <span class="op">+</span> <span class="st">&quot;&amp;page=&quot;</span> <span class="op">+</span> <span class="bu">str</span>(p))</span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>    soup <span class="op">=</span> BeautifulSoup(req.content, <span class="st">&quot;lxml&quot;</span>)</span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Scraping page &quot;</span> <span class="op">+</span> <span class="bu">str</span>(p))</span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>    scrape_page(soup)</span></code></pre></div>
    <h2 id="pacman">pacman</h2>
    <p>Find install location of package.</p>
    <div class="sourceCode" id="cb9"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pacman <span class="at">-Fql</span> <span class="op">&lt;</span>PACKAGENAME<span class="op">&gt;</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-E</span> <span class="st">&quot;^usr/bin.+&quot;</span></span></code></pre></div>
    <h2 id="podcast-dl">podcast-dl</h2>
    <p>Download audio w/ metadata from RSS feed.</p>
    <div class="sourceCode" id="cb10"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> npx podcast-dl <span class="at">--url</span> <span class="op">&lt;</span>rss url<span class="op">&gt;</span> --episode-template <span class="st">&quot;{{release_date}} {{title}}&quot;</span> <span class="at">--archive</span> archive.archive <span class="at">--include-meta</span> <span class="at">--include-episode-meta</span> <span class="at">--out-dir</span> <span class="st">&quot;.&quot;</span></span></code></pre></div>
    <h2 id="rsync">rsync</h2>
    <p>Mirror directory to another location and log to file.</p>
    <blockquote>
    <p>Requires backslashes at end of directories.</p>
    </blockquote>
    <blockquote>
    <p>Remove –dry-run to execute; ‘–delete’ used to mirror directory
    contents.</p>
    </blockquote>
    <div class="sourceCode" id="cb11"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> rsync <span class="at">--dry-run</span> <span class="at">--archive</span> <span class="at">--human-readable</span> <span class="at">--itemize-changes</span> <span class="at">--verbose</span> <span class="at">--exclude</span><span class="op">=</span><span class="st">&quot;lost+found&quot;</span> <span class="at">--delete</span> FILES_TO_COPY/ WHERE_TO_COPY_TO/ <span class="kw">|</span> <span class="fu">tee</span> ~/DATE_rsync.log</span></code></pre></div>
    <h2 id="shnsplit">shnsplit</h2>
    <p>Split and tag flac FLAC via cuesheet.</p>
    <blockquote>
    <p>Requires cuesheet.sh, trash-cli to delete pregap file, and no
    more than 1 flac file and 1 cue file in directory.</p>
    </blockquote>
    <div class="sourceCode" id="cb12"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> shnsplit <span class="at">-f</span> <span class="pp">*</span>.cue <span class="at">-t</span> %n_%t <span class="at">-o</span> flac <span class="pp">*</span>.flac<span class="kw">;</span> <span class="cf">if</span> <span class="bu">[</span> <span class="ot">-f</span> <span class="st">&quot;00_pregap.flac&quot;</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span> <span class="ex">trash</span> 00_pregap.flac<span class="kw">;</span> <span class="cf">fi</span><span class="kw">;</span> <span class="ex">cuetag.sh</span> <span class="pp">*</span>.cue <span class="pp">[</span><span class="ss">0</span><span class="pp">-</span><span class="ss">9</span><span class="pp">]*</span>.flac</span></code></pre></div>
    <p>The above, but recursively through subdirectories.</p>
    <div class="sourceCode" id="cb13"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> for d in <span class="pp">*</span>/ <span class="kw">;</span> <span class="cf">do</span> <span class="bu">cd</span> <span class="st">&quot;</span><span class="va">$d</span><span class="st">&quot;</span><span class="kw">;</span> <span class="bu">pwd</span><span class="kw">;</span> <span class="ex">shnsplit</span> <span class="at">-f</span> <span class="pp">*</span>.cue <span class="at">-t</span> %n_%t <span class="at">-o</span> flac <span class="pp">*</span>.flac<span class="kw">;</span> <span class="cf">if</span> <span class="bu">[</span> <span class="ot">-f</span> <span class="st">&quot;00_pregap.flac&quot;</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span> <span class="ex">trash</span> 00_pregap.flac<span class="kw">;</span> <span class="cf">fi</span><span class="kw">;</span> <span class="ex">cuetag.sh</span> <span class="pp">*</span>.cue <span class="pp">[</span><span class="ss">0</span><span class="pp">-</span><span class="ss">9</span><span class="pp">]*</span>.flac<span class="kw">;</span> <span class="bu">cd</span> ..<span class="kw">;</span> <span class="cf">done</span></span></code></pre></div>
    <h2 id="wget">wget</h2>
    <p>Download numerical increments.</p>
    <div class="sourceCode" id="cb14"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> wget https://domain.tld/path/to/files/file{1..100}.filetype</span></code></pre></div>
    <p>Download numerical &amp; alphabetical increments.</p>
    <div class="sourceCode" id="cb15"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#! /bin/bash</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Downloads file01a.ext, file01b.ext... file12f.ext, etc.</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="va">HREF</span><span class="op">=</span><span class="st">&quot;protocol://domain.tld/path/to/files/file&quot;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="va">TENS</span><span class="op">=</span>0</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="va">ONES</span><span class="op">=</span>0</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="va">LETTER</span><span class="op">=</span>A</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="va">EXT</span><span class="op">=</span><span class="st">&quot;.EXT&quot;</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="va">URL</span><span class="op">=</span><span class="st">&quot;</span><span class="va">$URL$TENS$ONES$LETTER$EXT</span><span class="st">&quot;</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="ex">print</span> <span class="va">$URL</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="kw">((</span> <span class="va">i</span> <span class="op">=</span> <span class="dv">0</span><span class="kw">;</span> <span class="va">i</span><span class="op">&lt;=</span> <span class="dv">9</span><span class="kw">;</span> <span class="va">i</span><span class="op">++</span> <span class="kw">))</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">do</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="kw">((</span> <span class="va">j</span> <span class="op">=</span> <span class="dv">0</span><span class="kw">;</span> <span class="va">j</span><span class="op">&lt;=</span> <span class="dv">9</span><span class="kw">;</span> <span class="va">j</span><span class="op">++</span> <span class="kw">))</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>      <span class="cf">do</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> letter <span class="kw">in</span> <span class="dt">{</span>a<span class="dt">..</span>z<span class="dt">}</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>          <span class="cf">do</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>            <span class="va">URL</span><span class="op">=</span><span class="st">&quot;</span><span class="va">$HREF$i$j$letter$EXT</span><span class="st">&quot;</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>            <span class="bu">echo</span> <span class="va">$URL</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>            <span class="fu">wget</span> <span class="va">$URL</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>          <span class="cf">done</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>      <span class="cf">done</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">done</span></span></code></pre></div>
    <p>Download specific filetype/extensions.</p>
    <div class="sourceCode" id="cb16"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> wget <span class="at">--directory-prefix</span><span class="op">=</span>path/to/save <span class="at">--no-directories</span> <span class="at">--recursive</span> <span class="at">--level</span><span class="op">=</span>1 <span class="at">--span-hosts</span> <span class="at">--domains</span><span class="op">=</span>https://domain.tld <span class="at">--accept</span> ext1,ext2,ext3 https://domain.tld/path/to/files</span></code></pre></div>
    <h2 id="yt-dlp">yt-dlp</h2>
    <p>Download video with metadata file.</p>
    <blockquote>
    <p>use <code>--batch-file FILE</code> to use a text file with
    urls</p>
    </blockquote>
    <div class="sourceCode" id="cb17"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> yt-dlp <span class="at">--add-metadata</span> <span class="at">--write-info-json</span> <span class="at">--restrict-filenames</span> <span class="at">--output</span> <span class="st">&quot;%(title)s_%(upload_date)s_%(id)s.%(ext)s&quot;</span> http://video.url/id</span></code></pre></div>
</content>
<footer>
  <p>
    <span id="copyright">(c) Copyright 1999-2024 VLNT.</span>
    <span id="build">Last build 2024-01-12.</span>
  </p>
  <a name="bottom"></a>
</footer>
</body>
</html>
